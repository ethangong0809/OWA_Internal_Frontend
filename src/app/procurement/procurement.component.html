<ngx-loading [show]="loading" [config]="{ backdropBorderRadius: '10px'}"></ngx-loading>
<div id="google_translate_element" class="translate pull-right">
</div>
<div class="p1">
  <div class="p2">
    <span id="heading">
      Procurements
    </span>
  </div>
  <div class="doNotPrint" align="right">
    <i class="fa fa-print" aria-hidden="true" (click)="onPrint()" title="Print this page" style="font-size:120%; cursor: pointer "></i>
    <!-- <button (click)="onPrint()">Print</button> -->
  </div>

  <form class="form" #editPro="ngForm">
    <div class="p3">
  
      <div class="form-row">
        <div class="form-group col-md-6">
          <label>Ticket ID</label>
          <input class="form-control" type="text" placeholder="Ticket ID" [(ngModel)]="requestor.ticketID" name="tcktid" readonly>
        </div>
        <div class="form-group col-md-6">
          <label>Status</label>
          <input class="form-control" type="text" autocomplete="off" [(ngModel)]="requestor1.status" placeholder="Status" name="status"
            readonly>
        </div>
      </div>
      <div class="form-row">
        <div class="form-group col-md-6">
          <label>Last updated on</label>
          <input class="form-control" autocomplete="off" type="text" name="lastUpdatedTime" [(ngModel)]="requestor1.updatedTime" readonly>
        </div>
        <div class="form-group col-md-6">
          <label>Last updated by</label>
          <input class="form-control" type="text" autocomplete="off" name="lastUpdatedPerson" [(ngModel)]="requestor1.updatedBy" readonly>
        </div>
      </div>
      <nav>
        <div class="nav nav-tabs" id="nav-tab" role="tablist" style="border:black;">
          <a class="nav-item nav-link active" id="nav-home-tab" data-toggle="tab" href="#nav-home" role="tab" aria-controls="nav-home"
            aria-selected="true" (click)="originalTab()">Original View</a>
          <a class="nav-item nav-link" id="nav-profile-tab" data-toggle="tab" href="#nav-profile" role="tab" aria-controls="nav-profile"
            aria-selected="false" (click)="editTab()">Editable View</a>
          <a class="nav-item nav-link" id="nav-split-tab" data-toggle="tab" href="#nav-split" role="tab" aria-controls="nav-split"
            aria-selected="false" (click)="splitView()">Split View</a>
          <a class="nav-item nav-link" id="nav-insert-tab" data-toggle="tab" href="#nav-insert" role="tab" aria-controls="nav-split"
            aria-selected="false" (click)="insertView()">Documents</a>
          <a class="nav-item nav-link" id="nav-history-tab" data-toggle="tab" href="#nav-history" role="tab" aria-controls="nav-split"
            aria-selected="false" (click)="commentHistoryView()">Comments History</a>
          <a class="nav-item nav-link" id="nav-assign-tab" data-toggle="tab" href="#nav-assign" role="tab" aria-controls="nav-profile"
            aria-selected="false" (click)="assignView()">Assign To</a>
            <a class="nav-item nav-link" *ngIf="showNav" id="nav-assign-tab" data-toggle="tab" href="#nav-move" role="tab" aria-controls="nav-profile"
            aria-selected="false" (click)="moveView()">Move To</a>
            <a class="nav-item nav-link" *ngIf="showNav" id="nav-assign-tab" data-toggle="tab" href="#nav-move" role="tab"
            aria-controls="nav-profile" aria-selected="false" (click)="closedTicket()">Close Ticket</a> 
        </div>
      </nav>

      <div class="tab-content" id="nav-tabContent">
        <div class="formBox tab-pane fade show active" *ngIf="showOriginal" id="nav-home" role="tabpanel" aria-labelledby="nav-home-tab">
          <h4 id="requestorInfo">Requestor's Residency</h4>
          <div class="form-row">
            <div class="form-group col-md-6">
              <label>Resident of Virginia</label>
              <input class="form-control" type="text" autocomplete="off" name="vaResident" [(ngModel)]="requestor.vaResident" readonly>
            </div>
          </div>
          <h4 id="requestorInfo">Requestor's Information</h4>
          <div class="form-row">
            <div class="form-group col-md-6">
              <label>Requestor's first name</label>
              <input class="form-control" autocomplete="off" type="text" [(ngModel)]="requestor.firstName" name="fname" readonly>
            </div>

            <div class="form-group col-md-6">
              <label>Requestor's last name</label>
              <input class="form-control" type="text" autocomplete="off" [(ngModel)]="requestor.lastName" name="lname" readonly>
            </div>
          </div>

          <div class="form-row">
            <div class="form-group col-md-6">
              <label>Requestor's phone</label>
              <input mask='000-000-0000' class="form-control" type="text" autocomplete="off" name="phone" readonly [(ngModel)]="requestor.phone">

            </div>

            <div class="form-group col-md-6">
              <label>Requestor's email</label>
              <input class="form-control" type="email" name="emailUser" id="emailini" type="email" [(ngModel)]="requestor.email" readonly>
            </div>
          </div>

          <!-- <div class="form-row">
            <div class="form-group col-md-6">
              <label>Preferred method of communication</label>
              <select class="form-control" name="prfmtd" [(ngModel)]="requestor.preferredContact" disabled="true">
                <option value="Phone">Phone</option>
                <option value="Email">Email</option>
                <option value="Phone and Email">Phone and Email</option>
              </select>
            </div>
          </div> -->

          <div class="form-row">
            <div class="form-group col-md-6">
              <label>Organization name</label>
              <input class="form-control" type="text" name="Organ" [(ngModel)]="requestor.organizationName" readonly>
            </div>

            <div class="form-group col-md-6">
              <label>Fax number</label>
              <input mask='000-000-0000' class="form-control" type="text" [(ngModel)]="requestor.fax" name="fax" readonly>
            </div>
          </div>

          <div class="form-row">
            <div class="form-group col-md-6">
              <label>Mailing address 1</label>
              <input class="form-control" type="text" name="address1" [(ngModel)]="requestor.address1" readonly>
            </div>

            <div class="form-group col-md-6">
              <label>Mailing address 2</label>
              <input class="form-control" type="text" name="address2" [(ngModel)]="requestor.address2" readonly>
            </div>
          </div>

          <div class="form-row">
            <div class="form-group col-md-6">
              <label>City</label>
              <input class="form-control" type="text" name="city" [(ngModel)]="requestor.city" readonly>
            </div>

            <div class="form-group col-md-6">
              <label>State</label>
              <input class="form-control" type="text" name="state" [(ngModel)]="requestor.state" readonly>
            </div>
          </div>

          <div class="form-row">
            <div class="form-group col-md-6">
              <label>Zip code</label>
              <input class="form-control" type="text" name="zip" [(ngModel)]="requestor.zipcode" readonly>
            </div>
          </div>

          <div class="form-row">
            <div class="form-group col-md" id="description">
              <label for="number">Request description</label>
              <!-- <textarea class="form-control" cols="2000" rows="7" id="summernote" name="purpose" [(ngModel)]="description" [ngxSummernote] readonly></textarea> -->
              <div class="form-control" style="height: auto;" [ngxSummernoteView]="generaldata.description" readonly></div>
            </div>
          </div>
        </div>
        <div class="formBox tab-pane fade" *ngIf="showEdit" id="nav-profile" role="tabpanel" aria-labelledby="nav-profile-tab">
          <h4 id="requestorInfo">Requestor's Residency</h4>
          <div class="form-row">
            <div class="form-group col-md-6">
              <label>Resident of Virginia
                <font color="red">*</font>
              </label>
              <select class="form-control" name="vaRes2" [(ngModel)]="requestor1.vaResident" [disabled]="edit">
                <!-- <option [ngValue]="requestor1.vaResident" selected hidden>{{requestor1.vaResident}}</option> -->
                <option value="Yes">Yes</option>
                <option value="No">No</option>
              </select>
            </div>
          </div>
          <h4 id="requestorInfo">Requestor's Information</h4>
          <div class="form-row">
            <div class="form-group col-md-6">
              <label>Requestor's first name
                <font color="red">*</font>
              </label>
              <input class="form-control" autocomplete="off" type="text" #fname="ngModel" [(ngModel)]="requestor1.firstName" name="fname1"
                (keypress)="omit_special_char($event,$event.target.value)" maxlength="100" [disabled]="edit" required>
              <div *ngIf="fname.touched" style="color:red">
                <div *ngIf="fname.errors?.required">
                  first name is required
                </div>
              </div>
            </div>

            <div class="form-group col-md-6">
              <label>Requestor's last name
                <font color="red">*</font>
              </label>
              <input class="form-control" type="text" autocomplete="off" #lname="ngModel" [(ngModel)]="requestor1.lastName" name="lname1"
                (keypress)="omit_special_char($event,$event.target.value)" maxlength="100" [disabled]="edit" required>
              <div *ngIf="lname.touched" style="color:red">
                <div *ngIf="lname.errors?.required">
                  Last name is required
                </div>
              </div>
            </div>
          </div>

          <div class="form-row">
            <div class="form-group col-md-6">
              <label>Requestor's phone
                <font color="red">*</font>
              </label>
              <input mask='000-000-0000' class="form-control" type="text" autocomplete="off" name="phone1" [(ngModel)]="requestor1.phone"
                maxlength="12" [disabled]="edit" required>
              <!-- <div *ngIf="pnumber1.touched" style="color:red">
                <div *ngIf="pnumber1.errors?.required">
                  Phone number is required
                </div>
              </div>
              <div *ngIf="pnumber1.dirty" style="color:red">
                <div class="help-block" style="color:red;" *ngIf="pnumber1.errors?.pattern">
                  Please enter 10 digit Phone number. Example: (123)-456-7890
                </div>
              </div> -->
            </div>

            <div class="form-group col-md-6">
              <label>Requestor's email
                <font color="red">*</font>
              </label>
              <input class="form-control" type="email" name="emailUser1" id="emailini" type="email" #emailUser="ngModel" [(ngModel)]="requestor1.email"
                maxlength="100" (keypress)="omit_special_char1($event,$event.target.value)" pattern="^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$"
                [disabled]="edit" required>
              <div *ngIf="emailUser.touched" style="color:red">
                <div *ngIf="emailUser.errors?.required">
                  Email is required
                </div>
              </div>
              <div *ngIf="emailUser.dirty" style="color:red">
                <div class="help-block" style="color:red;" *ngIf="emailUser.errors?.pattern">
                  Please type your email address in the format: mail@example.xyz
                </div>
              </div>
            </div>
          </div>

          <!-- <div class="form-row">
            <div class="form-group col-md-6">
              <label>Preferred method of communication</label>
              <select class="form-control" name="prfmtd1" [(ngModel)]="requestor1.preferredContact">
                <option value="Phone">Phone</option>
                <option value="Email">Email</option>
                <option value="Phone and Email">Phone and Email</option>
              </select>
            </div>
          </div> -->

          <div class="form-row">
            <div class="form-group col-md-6">
              <label>Organization name</label>
              <input class="form-control" type="text" name="Organ1" [(ngModel)]="requestor1.organizationName" [disabled]="edit" maxlength="100">
            </div>

            <div class="form-group col-md-6">
              <label>Fax number</label>
              <input mask='000-000-0000' class="form-control" type="text" maxlength="12" [(ngModel)]="requestor1.fax" [disabled]="edit" name="fax1">
              <!-- <div *ngIf="fax1.dirty" style="color:red">
                <div class="help-block" style="color:red;" *ngIf="fax1.errors?.pattern">
                  Please enter 10 digit Fax number. Example: (123)-456-7890
                </div>
              </div> -->
            </div>
          </div>

          <div class="form-row">
            <div class="form-group col-md-6">
              <label>Mailing address 1</label>
              <input class="form-control" type="text" name="address11" [disabled]="edit" (keypress)="omit_special_char1($event,$event.target.value)" [(ngModel)]="requestor1.address1"
                maxlength="100">
            </div>

            <div class="form-group col-md-6">
              <label>Mailing address 2</label>
              <input class="form-control" type="text" name="address21" [disabled]="edit" (keypress)="omit_special_char1($event,$event.target.value)" [(ngModel)]="requestor1.address2"
                maxlength="100">
            </div>
          </div>

          <div class="form-row">
            <div class="form-group col-md-6">
              <label>City</label>
              <input class="form-control" type="text" name="city1" [disabled]="edit" (keypress)="omit_special_char1($event,$event.target.value)" [(ngModel)]="requestor1.city"
                maxlength="100">
            </div>

            <div class="form-group col-md-6">
              <label>State</label>
              <select class="form-control" type="text" name="state1" [disabled]="edit" (keypress)="omit_special_char1($event,$event.target.value)" [(ngModel)]="requestor1.state">
                <option [ngValue]="undefined" selected>Choose...</option>
                <option value="AL">Alabama</option>
                <option value="AK">Alaska</option>
                <option value="AZ">Arizona</option>
                <option value="AR">Arkansas</option>
                <option value="CA">California</option>
                <option value="CO">Colorado</option>
                <option value="CT">Connecticut</option>
                <option value="DE">Delaware</option>
                <option value="DC">District Of Columbia</option>
                <option value="FL">Florida</option>
                <option value="GA">Georgia</option>
                <option value="HI">Hawaii</option>
                <option value="ID">Idaho</option>
                <option value="IL">Illinois</option>
                <option value="IN">Indiana</option>
                <option value="IA">Iowa</option>
                <option value="KS">Kansas</option>
                <option value="KY">Kentucky</option>
                <option value="LA">Louisiana</option>
                <option value="ME">Maine</option>
                <option value="MD">Maryland</option>
                <option value="MA">Massachusetts</option>
                <option value="MI">Michigan</option>
                <option value="MN">Minnesota</option>
                <option value="MS">Mississippi</option>
                <option value="MO">Missouri</option>
                <option value="MT">Montana</option>
                <option value="NE">Nebraska</option>
                <option value="NV">Nevada</option>
                <option value="NH">New Hampshire</option>
                <option value="NJ">New Jersey</option>
                <option value="NM">New Mexico</option>
                <option value="NY">New York</option>
                <option value="NC">North Carolina</option>
                <option value="ND">North Dakota</option>
                <option value="OH">Ohio</option>
                <option value="OK">Oklahoma</option>
                <option value="OR">Oregon</option>
                <option value="PA">Pennsylvania</option>
                <option value="RI">Rhode Island</option>
                <option value="SC">South Carolina</option>
                <option value="SD">South Dakota</option>
                <option value="TN">Tennessee</option>
                <option value="TX">Texas</option>
                <option value="UT">Utah</option>
                <option value="VT">Vermont</option>
                <option value="VA">Virginia</option>
                <option value="WA">Washington</option>
                <option value="WV">West Virginia</option>
                <option value="WI">Wisconsin</option>
                <option value="WY">Wyoming</option>
              </select>
            </div>
          </div>

          <div class="form-row">
            <div class="form-group col-md-6">
              <label>Zip code</label>
              <input class="form-control" type="text" name="zip1" [disabled]="edit" #zip="ngModel" [(ngModel)]="requestor1.zipcode" pattern="(\d{5}([\-]\d{4})?)"
                minlength="5" maxlength="5">
              <div style="color:red" *ngIf="zip.errors?.pattern">
                Zip code is invalid
              </div>
            </div>
          </div>

          <div class="form-row">
            <div class="form-group col-md" id="description">
              <label for="number">Request description</label>
              <!-- <textarea class="form-control" cols="2000" rows="7" id="summernote" name="purpose" [(ngModel)]="description2" [ngxSummernote]="config"
                    readonly></textarea> -->
              <div class="form-control" style="height: auto;" [ngxSummernoteView]="generaldata.description" readonly></div>
            </div>
          </div>
        </div>

        <div class="tab-pane fade" *ngIf="showSplit" id="nav-split" role="tabpanel" aria-labelledby="nav-split-tab">
          <div class="formBox col-md-6" style="display:inline-table;" *ngIf="showOriginalSplit">
            <h4 align="center" style="margin-top:-2%">Original</h4>
            <div class="formBox">
              <h4 id="requestorInfo">Requestor's Residency</h4>
              <div class="form-row">
                <div class="form-group col-md-6">
                  <label>Resident of Virginia</label>
                  <input class="form-control" type="text" autocomplete="off" name="vaRes" [(ngModel)]="requestor.vaResident" readonly>
                </div>
              </div>
              <h4 id="requestorInfo">Requestor's Information</h4>
              <div class="form-row">
                <div class="form-group col-md-6">
                  <label>Requestor's first name</label>
                  <input class="form-control" autocomplete="off" type="text" [(ngModel)]="requestor.firstName" name="fname2" readonly>
                </div>

                <div class="form-group col-md-6">
                  <label>Requestor's last name</label>
                  <input class="form-control" type="text" autocomplete="off" [(ngModel)]="requestor.lastName" name="lname2" readonly>
                </div>
              </div>

              <div class="form-row">
                <div class="form-group col-md-6">
                  <label>Requestor's phone</label>
                  <input mask='000-000-0000' class="form-control" type="text" autocomplete="off" name="phone2" readonly [(ngModel)]="requestor.phone">

                </div>

                <div class="form-group col-md-6">
                  <label>Requestor's email</label>
                  <input class="form-control" type="email" name="emailUser2" id="emailini" type="email" [(ngModel)]="requestor.email" readonly>
                </div>
              </div>

              <!-- <div class="form-row">
                <div class="form-group col-md-6">
                  <label>Preferred method of communication</label>
                  <select class="form-control" name="prfmtd2" [(ngModel)]="requestor.preferredContact" disabled="true">
                    <option value="Phone">Phone</option>
                    <option value="Email">Email</option>
                    <option value="Phone and Email">Phone and Email</option>
                  </select>
                </div>
              </div> -->

              <div class="form-row">
                <div class="form-group col-md-6">
                  <label>Organization name</label>
                  <input class="form-control" type="text" name="Organ2" [(ngModel)]="requestor.organizationName" readonly>
                </div>

                <div class="form-group col-md-6">
                  <label>Fax number</label>
                  <input mask='000-000-0000' class="form-control" type="text" [(ngModel)]="requestor.fax" name="fax2" readonly>
                </div>
              </div>

              <div class="form-row">
                <div class="form-group col-md-6">
                  <label>Mailing address 1</label>
                  <input class="form-control" type="text" name="address12" [(ngModel)]="requestor.address1" readonly>
                </div>

                <div class="form-group col-md-6">
                  <label>Mailing address 2</label>
                  <input class="form-control" type="text" name="address22" [(ngModel)]="requestor.address2" readonly>
                </div>
              </div>

              <div class="form-row">
                <div class="form-group col-md-6">
                  <label>City</label>
                  <input class="form-control" type="text" name="city2" [(ngModel)]="requestor.city" readonly>
                </div>

                <div class="form-group col-md-6">
                  <label>State</label>
                  <input class="form-control" type="text" name="state2" [(ngModel)]="requestor.state" readonly>
                </div>
              </div>

              <div class="form-row">
                <div class="form-group col-md-6">
                  <label>Zip code</label>
                  <input class="form-control" type="text" name="zip2" [(ngModel)]="requestor.zipcode" readonly>
                </div>
              </div>

              <div class="form-row">
                <div class="form-group col-md" id="description">
                  <label for="number">Request description</label>
                  <!-- <textarea class="form-control" cols="2000" rows="7" id="summernote" name="purpose" [(ngModel)]="description" [ngxSummernote] readonly></textarea> -->
                  <div class="form-control" style="height: auto;" [ngxSummernoteView]="generaldata.description" readonly></div>
                </div>
              </div>
            </div>
          </div>
          <div class="formBox col-md-6" style="display:inline-table;" *ngIf="showEditSplit">
            <h4 align="center" style="margin-top:-2%">Editable</h4>
            <div class="formBox">
              <h4 id="requestorInfo">Requestor's Residency</h4>
              <div class="form-row">
                <div class="form-group col-md-6">
                  <label>Resident of Virginia
                    <font color="red">*</font>
                  </label>
                  <select class="form-control" name="vaRes3" [(ngModel)]="requestor1.vaResident" [disabled]="edit">
                    <!-- <option [ngValue]="requestor1.vaResident" selected hidden></option> -->
                    <option value="Yes">Yes</option>
                    <option value="No">No</option>
                  </select>
                </div>
              </div>
              <h4 id="requestorInfo">Requestor's Information</h4>
              <div class="form-row">
                <div class="form-group col-md-6">
                  <label>Requestor's first name
                    <font color="red">*</font>
                  </label>
                  <input class="form-control" autocomplete="off" type="text" #fname="ngModel" [(ngModel)]="requestor1.firstName" name="fname3"
                    (keypress)="omit_special_char($event,$event.target.value)" maxlength="100" [disabled]="edit" required>
                  <div *ngIf="fname.touched" style="color:red">
                    <div *ngIf="fname.errors?.required">
                      first name is required
                    </div>
                  </div>
                </div>

                <div class="form-group col-md-6">
                  <label>Requestor's last name
                    <font color="red">*</font>
                  </label>
                  <input class="form-control" type="text" autocomplete="off" #lname="ngModel" [(ngModel)]="requestor1.lastName" name="lname3"
                    (keypress)="omit_special_char($event,$event.target.value)" maxlength="100" [disabled]="edit" required>
                  <div *ngIf="lname.touched" style="color:red">
                    <div *ngIf="lname.errors?.required">
                      Last name is required
                    </div>
                  </div>
                </div>
              </div>

              <div class="form-row">
                <div class="form-group col-md-6">
                  <label>Requestor's phone
                    <font color="red">*</font>
                  </label>
                  <input mask='000-000-0000' class="form-control" type="text" autocomplete="off" name="phone3" [(ngModel)]="requestor1.phone"
                    maxlength="12" [disabled]="edit" required>
                  <!-- <div *ngIf="pnumber3.touched" style="color:red">
                    <div *ngIf="pnumber3.errors?.required">
                      Phone number is required
                    </div>
                  </div>
                  <div *ngIf="pnumber3.dirty" style="color:red">
                    <div class="help-block" style="color:red;" *ngIf="pnumber3.errors?.pattern">
                      Please enter 10 digit Phone number. Example: (123)-456-7890
                    </div>
                  </div> -->
                </div>

                <div class="form-group col-md-6">
                  <label>Requestor's email
                    <font color="red">*</font>
                  </label>
                  <input class="form-control" type="email" name="emailUser3" id="emailini" type="email" #emailUser="ngModel" [(ngModel)]="requestor1.email"
                    (keypress)="omit_special_char1($event,$event.target.value)" pattern="^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$"
                    maxlength="100" [disabled]="edit" required>
                  <div *ngIf="emailUser.touched" style="color:red">
                    <div *ngIf="emailUser.errors?.required">
                      Email is required
                    </div>
                  </div>
                  <div *ngIf="emailUser.dirty" style="color:red">
                    <div class="help-block" style="color:red;" *ngIf="emailUser.errors?.pattern">
                      Please type your email address in the format: mail@example.xyz
                    </div>
                  </div>
                </div>
              </div>

              <!-- <div class="form-row">
                <div class="form-group col-md-6">
                  <label>Preferred method of communication</label>
                  <select class="form-control" name="prfmtd3" [(ngModel)]="requestor1.preferredContact">
                    <option value="Phone">Phone</option>
                    <option value="Email">Email</option>
                    <option value="Phone and Email">Phone and Email</option>
                  </select>
                </div>
              </div> -->

              <div class="form-row">
                <div class="form-group col-md-6">
                  <label>Organization name</label>
                  <input class="form-control" type="text" [disabled]="edit" name="Organ3" [(ngModel)]="requestor1.organizationName" maxlength="100">
                </div>

                <div class="form-group col-md-6">
                  <label>Fax number</label>
                  <input mask='000-000-0000' class="form-control" [disabled]="edit" type="text" [(ngModel)]="requestor1.fax" maxlength="12" name="fax3">
                  <!-- <div *ngIf="fax3.dirty" style="color:red">
                    <div class="help-block" style="color:red;" *ngIf="fax3.errors?.pattern">
                      Please enter 10 digit Fax number. Example: (123)-456-7890
                    </div>
                  </div> -->
                </div>
              </div>

              <div class="form-row">
                <div class="form-group col-md-6">
                  <label>Mailing address 1</label>
                  <input class="form-control" type="text" name="address13" (keypress)="omit_special_char1($event,$event.target.value)" [(ngModel)]="requestor1.address1"
                    maxlength="100" [disabled]="edit">
                </div>

                <div class="form-group col-md-6">
                  <label>Mailing address 2</label>
                  <input class="form-control" type="text" name="address23" (keypress)="omit_special_char1($event,$event.target.value)" [(ngModel)]="requestor1.address2"
                    maxlength="100" [disabled]="edit">
                </div>
              </div>

              <div class="form-row">
                <div class="form-group col-md-6">
                  <label>City</label>
                  <input class="form-control" type="text" name="city3" (keypress)="omit_special_char1($event,$event.target.value)" [(ngModel)]="requestor1.city"
                    maxlength="100" [disabled]="edit">
                </div>

                <div class="form-group col-md-6">
                  <label>State</label>
                  <select class="form-control" type="text" name="state3" (keypress)="omit_special_char1($event,$event.target.value)" [(ngModel)]="requestor1.state" [disabled]="edit">
                    <option [ngValue]="undefined" selected>Choose...</option>
                    <option value="AL">Alabama</option>
                    <option value="AK">Alaska</option>
                    <option value="AZ">Arizona</option>
                    <option value="AR">Arkansas</option>
                    <option value="CA">California</option>
                    <option value="CO">Colorado</option>
                    <option value="CT">Connecticut</option>
                    <option value="DE">Delaware</option>
                    <option value="DC">District Of Columbia</option>
                    <option value="FL">Florida</option>
                    <option value="GA">Georgia</option>
                    <option value="HI">Hawaii</option>
                    <option value="ID">Idaho</option>
                    <option value="IL">Illinois</option>
                    <option value="IN">Indiana</option>
                    <option value="IA">Iowa</option>
                    <option value="KS">Kansas</option>
                    <option value="KY">Kentucky</option>
                    <option value="LA">Louisiana</option>
                    <option value="ME">Maine</option>
                    <option value="MD">Maryland</option>
                    <option value="MA">Massachusetts</option>
                    <option value="MI">Michigan</option>
                    <option value="MN">Minnesota</option>
                    <option value="MS">Mississippi</option>
                    <option value="MO">Missouri</option>
                    <option value="MT">Montana</option>
                    <option value="NE">Nebraska</option>
                    <option value="NV">Nevada</option>
                    <option value="NH">New Hampshire</option>
                    <option value="NJ">New Jersey</option>
                    <option value="NM">New Mexico</option>
                    <option value="NY">New York</option>
                    <option value="NC">North Carolina</option>
                    <option value="ND">North Dakota</option>
                    <option value="OH">Ohio</option>
                    <option value="OK">Oklahoma</option>
                    <option value="OR">Oregon</option>
                    <option value="PA">Pennsylvania</option>
                    <option value="RI">Rhode Island</option>
                    <option value="SC">South Carolina</option>
                    <option value="SD">South Dakota</option>
                    <option value="TN">Tennessee</option>
                    <option value="TX">Texas</option>
                    <option value="UT">Utah</option>
                    <option value="VT">Vermont</option>
                    <option value="VA">Virginia</option>
                    <option value="WA">Washington</option>
                    <option value="WV">West Virginia</option>
                    <option value="WI">Wisconsin</option>
                    <option value="WY">Wyoming</option>
                  </select>
                </div>
              </div>

              <div class="form-row">
                <div class="form-group col-md-6">
                  <label>Zip code</label>
                  <input class="form-control" type="text" name="zip3" #zip="ngModel" [(ngModel)]="requestor1.zipcode" pattern="(\d{5}([\-]\d{4})?)"
                    minlength="5" maxlength="5" [disabled]="edit">
                  <div style="color:red" *ngIf="zip.errors?.pattern">
                    Zip code is invalid
                  </div>
                </div>
              </div>

              <div class="form-row">
                <div class="form-group col-md" id="description">
                  <label for="number">Request description</label>
                  <!-- <textarea class="form-control" cols="2000" rows="7" id="summernote" name="purpose" [(ngModel)]="description2" [ngxSummernote]="config"
                              readonly></textarea> -->
                  <div class="form-control" style="height: auto;" [ngxSummernoteView]="generaldata.description" readonly></div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="tab-pane fade" *ngIf="showInsert" id="nav-insert" role="tabpanel"
          aria-labelledby="nav-insert-tab">
          <app-document></app-document>
        </div>

        <div class="formBox tab-pane fade" *ngIf="showHistoryPanel" id="nav-history" role="tabpanel" aria-labelledby="nav-history-tab">
          <div class="top-space bottom-space" id="showHistory1" *ngIf="showHistory">
            <div class="form-row">
              <div class="form-group col-md" id="commentTable">
                <h4 id="requestorInfo">Comments History</h4>
                <!-- <div align="right">
                  <button class="fa fa-print" aria-hidden="true" (click)="printComponent('showHistory1')" style="font-size:120%" title="Print table">Print table</button>
                </div> -->
                <!-- <button (click)="printComponent('showHistory1')">Print table</button> -->
                <table class="table table-striped table-bordered">
                  <thead align="center">
                    <tr class="tableHeader">
                      <th>Reason Code</th>
                      <th>Comments</th>
                      <th>Comment By</th>
                      <th>Date</th>
                    </tr>
                  </thead>
                  <tbody align="left">
                    <tr *ngFor="let comment of comments | paginate: { itemsPerPage: 15, currentPage: p,totalItems: total }">
                      <!-- <td style="width:15%">{{comment.createdBy}}</td> -->
                      <td style="width:15%">{{comment.reason.reasonCode}} - {{comment.reason.description}}</td>
                      <td style="width:60%" [ngxSummernoteView]="comment.notes"></td>
                      <td style="width:15%">{{comment.createdBy}}</td>
                      <td style="width:10%">{{comment.createdTime}}</td>
                    </tr>
                  </tbody>
                </table>
                <pagination-controls (pageChange)="p = $event"></pagination-controls>

              </div>
            </div>
          </div>
        </div>
        <div class="tab-pane fade" id="nav-assign" role="tabpanel" aria-labelledby="nav-assign-tab" *ngIf="showAssign">
          <app-assign></app-assign>
        </div>
      </div>

      <div class="formBox top-space bottom-space" *ngIf="showComments">
        <div class="form-row">
          <div class="form-group col-md-6" *ngIf="showReason">
            <label>Status
              <font color="red">*</font>
            </label>
            <select id="inputState" (change)="clickStatus($event.target.value)" [(ngModel)]="requestor1.status" [disabled]="edit" name="status" class="form-control"
              required>
              <option value="Open">Open</option>
              <option value="Closed">Closed</option>
            </select>
          </div>
          <div class="form-group col-md-6" *ngIf="showReason">
            <div *ngIf="openToOpenSelect">
              <label>Reason</label>
              <select id="inputState" name="reason1" class="form-control" [(ngModel)]="comment.reasonID" [disabled]="edit">
                <option selected [ngValue]="undefined">Choose...</option>
                <option *ngFor="let openList of openReasonList" [ngValue]="openList.id">{{openList.reasonCode}} - {{openList.description}}
                </option>
              </select>
            </div>
            <div *ngIf="closeToOpenSelect">
              <label>Reason</label>
              <font color="red">*</font>
              <select id="inputState" name="closeToOpen" class="form-control" [(ngModel)]="comment.reasonID" [disabled]="edit" required>
                <option selected [ngValue]="undefined">Choose...</option>
                <option *ngFor="let openList of openReasonList" [ngValue]="openList.id">{{openList.reasonCode}} - {{openList.description}}
                </option>
              </select>
            </div>
            <div *ngIf="closedSelect">
              <label>Reason
                <font color="red">*</font>
              </label>
              <select id="inputState" name="reason2" class="form-control" [(ngModel)]="comment.reasonID" [disabled]="edit" required>
                <option selected [ngValue]="undefined">Choose...</option>
                <option *ngFor="let closedList of closedReasonList" [ngValue]="closedList.id">{{closedList.reasonCode}} - {{closedList.description}}</option>
              </select>
            </div>
          </div>
          <div class="form-group col-md" id="description">
            <label for="number">Comments
              <font color="red">*</font>
            </label>
            <!-- <label class="requiredText">
              <font color="red">*</font>Required fields
            </label> -->
            <!-- <textarea id="summernote" ngModel name="comments122" [ngxSummernote]="config" [(ngModel)]="comment.notes" [ngxSummernote]
              required></textarea> -->
              <tinymce  name="description" [(ngModel)]="comment.notes" [config]="config" [disabled]="edit" required='required'></tinymce>Remaining {{5000 -len}}
          </div>
        </div>
      </div>
      <div class="formBox top-space bottom-space" *ngIf="showMove">
        <app-moveto-cccplus></app-moveto-cccplus>
      </div>

      <p align="right" *ngIf="showSubmit">
        <button type="cancel" class="btn btn-dark" (click)="navigateBack()">Cancel</button>
        <button type="submit" style="margin-left: 2px;" class="btn btn-dark" (click)="saveGeneralRequest()" [disabled]="!editPro.form.valid">Save</button>
      </p>
    </div>
  </form>
</div>

